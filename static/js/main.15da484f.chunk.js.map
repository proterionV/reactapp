{"version":3,"sources":["Components/Overlay.js","Components/Menu.js","Components/Table.js","Components/Graph.js","Components/Field.js","App.js","index.js"],"names":["Overlay","className","width","height","viewBox","fill","xmlns","fillRule","clipRule","d","type","React","Component","Menu","onShow","document","getElementById","id","Table","this","props","data","map","activity","userID","dateRegistration","dateLastActivity","Rows","GraphData","chart","title","text","xAxis","labels","rotation","style","fontSize","fontFamily","yAxis","min","legend","enabled","series","name","dataLabels","color","align","format","y","Graph","highcharts","Highcharts","options","updateArgs","activities","parameters","result","Field","onChangeID","e","setState","Math","round","target","value","onChangeReg","onChangeLast","onCalc","a","length","requestOptions","method","headers","body","JSON","stringify","fetch","response","json","onSave","parseInt","state","alert","filter","ok","push","daysByActivity","errors","bind","forEach","onChange","placeholder","onClick","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.15da484f.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport default class Overlay extends React.Component {\r\n    render() {\r\n        return (\r\n            <header className=\"header\">\r\n\r\n                <div className=\"block-title\">\r\n                    <h2 className=\"title-text\">AB Test Real</h2>\r\n                </div>\r\n\r\n                <div className=\"block-input\">\r\n                    <svg className=\"search\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M12.8929 11.6086L17.7348 16.4505C17.905 16.6208 18.0005 16.8518 18.0004 17.0925C18.0004 17.3333 17.9046 17.5641 17.7343 17.7343C17.564 17.9045 17.3331 18.0001 17.0923 18C16.8516 17.9999 16.6207 17.9042 16.4505 17.7339L11.6086 12.892C10.1612 14.0131 8.34104 14.5406 6.51844 14.3674C4.69585 14.1941 3.00771 13.333 1.79746 11.9593C0.587216 10.5855 -0.0542374 8.80231 0.00359662 6.97241C0.0614306 5.14251 0.814208 3.40337 2.10879 2.10879C3.40337 0.814208 5.14251 0.0614306 6.97241 0.00359662C8.80231 -0.0542374 10.5855 0.587216 11.9593 1.79746C13.333 3.00771 14.1941 4.69585 14.3674 6.51844C14.5406 8.34104 14.0131 10.1612 12.892 11.6086H12.8929ZM7.20051 12.5995C8.63265 12.5995 10.0061 12.0306 11.0188 11.0179C12.0315 10.0052 12.6004 8.63175 12.6004 7.19961C12.6004 5.76748 12.0315 4.39399 11.0188 3.38132C10.0061 2.36865 8.63265 1.79973 7.20051 1.79973C5.76838 1.79973 4.3949 2.36865 3.38222 3.38132C2.36955 4.39399 1.80063 5.76748 1.80063 7.19961C1.80063 8.63175 2.36955 10.0052 3.38222 11.0179C4.3949 12.0306 5.76838 12.5995 7.20051 12.5995Z\" fill=\"#BBBBBB\"/>\r\n                    </svg> \r\n\r\n                    <input className=\"input-search\" type=\"text\" />\r\n                </div>\r\n\r\n                <div className=\"block-photo\">\r\n                    <div className=\"photo\"></div>\r\n                </div>   \r\n\r\n                <div className=\"block-exit\">\r\n                    <svg className=\"exit\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                        <path d=\"M7.79 13.29C8.18 13.68 8.81 13.68 9.2 13.29L12.79 9.7C12.8827 9.60749 12.9563 9.4976 13.0064 9.37662C13.0566 9.25565 13.0824 9.12597 13.0824 8.995C13.0824 8.86403 13.0566 8.73435 13.0064 8.61338C12.9563 8.4924 12.8827 8.38251 12.79 8.29L9.2 4.7C9.01302 4.51302 8.75943 4.40798 8.495 4.40798C8.23057 4.40798 7.97698 4.51302 7.79 4.7C7.60302 4.88698 7.49798 5.14057 7.49798 5.405C7.49798 5.66943 7.60302 5.92302 7.79 6.11L9.67 8H1C0.45 8 0 8.45 0 9C0 9.55 0.45 10 1 10H9.67L7.79 11.88C7.4 12.27 7.41 12.91 7.79 13.29ZM16 0H2C1.46957 0 0.960859 0.210714 0.585786 0.585786C0.210714 0.960859 0 1.46957 0 2V5C0 5.55 0.45 6 1 6C1.55 6 2 5.55 2 5V3C2 2.45 2.45 2 3 2H15C15.55 2 16 2.45 16 3V15C16 15.55 15.55 16 15 16H3C2.45 16 2 15.55 2 15V13C2 12.45 1.55 12 1 12C0.45 12 0 12.45 0 13V16C0 17.1 0.9 18 2 18H16C17.1 18 18 17.1 18 16V2C18 0.9 17.1 0 16 0Z\" fill=\"#5D6D97\"/>\r\n                    </svg>\r\n                </div>\r\n\r\n            </header>\r\n        )\r\n    }\r\n}","import React from 'react';\r\n\r\nexport default class Menu extends React.Component {\r\n\r\n    onShow = () => {\r\n        document.getElementById(\"lis\").className=\"show\"\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"menu\">\r\n\r\n                <div id=\"switch\" className=\"off\">\r\n                    <button className=\"slider\">Projects</button>\r\n                </div>\r\n\r\n                {/* <div id=\"lis\" className=\"hide\">\r\n                    <li>Add Project</li>\r\n                </div> */}\r\n\r\n                <div>\r\n                    <button className=\"btn-menu\">Account</button>\r\n                </div>\r\n\r\n                <div>\r\n                    <button className=\"btn-menu\">Support</button>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react'\r\n\r\nexport default class Table extends React.Component {\r\n    render() {\r\n        return (\r\n                <table className=\"table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>User ID</th>\r\n                            <th>Registration</th>\r\n                            <th>Last Activity</th>\r\n                        </tr>\r\n                    </thead>\r\n\r\n                    <tbody>{\r\n                        this.props.data.map(activity => { \r\n                            return <Rows userID={activity.userID} dateRegistration={activity.dateRegistration} dateLastActivity={activity.dateLastActivity} />})\r\n                    }\r\n                    </tbody>\r\n                </table>\r\n        )\r\n    }\r\n}\r\n\r\nclass Rows extends React.Component {\r\n    \r\n    render() {\r\n        return <tr>\r\n            <td>{this.props.userID}</td>\r\n            <td>{this.props.dateRegistration}</td>\r\n            <td>{this.props.dateLastActivity}</td>\r\n        </tr>\r\n    }\r\n}","import React from 'react'\r\nimport Highcharts from 'highcharts'\r\nimport HighchartsReact from 'highcharts-react-official'\r\n\r\nlet GraphData = {\r\n    chart: {\r\n        type: 'column'\r\n    },\r\n    title: {\r\n        text: 'Users Lifetime'\r\n    },\r\n    xAxis: {\r\n        type: 'category',\r\n        labels: {\r\n            rotation: -45,\r\n            style: {\r\n                fontSize: '13px',\r\n                fontFamily: 'Verdana, sans-serif'\r\n            }\r\n        }\r\n    },\r\n    yAxis: {\r\n        min: 0,\r\n        title: {\r\n            text: 'Lifetime (days)'\r\n        }\r\n    },\r\n    legend: {\r\n        enabled: false\r\n    },\r\n    series: [{\r\n        name: 'Days',\r\n        data: [],\r\n        dataLabels: {\r\n            enabled: true,\r\n            rotation: -90,\r\n            color: '#FFFFFF',\r\n            align: 'right',\r\n            format: '{point.y:.1f}',\r\n            y: 10, \r\n            style: {\r\n                fontSize: '13px',\r\n                fontFamily: 'Verdana, sans-serif'\r\n            }\r\n        }\r\n    }]\r\n};\r\n\r\nexport default class Graph extends React.Component {\r\n    \r\n    componentDidMount() {\r\n        GraphData.series[0].data = this.props.data\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <HighchartsReact \r\n                highcharts={Highcharts}\r\n                options={GraphData}\r\n                updateArgs={[true]}\r\n            />\r\n        )\r\n    }\r\n} ","import React from 'react'\r\nimport Table from './Table.js'\r\nimport Graph from './Graph.js'\r\n\r\nlet activities = []\r\nlet parameters = []\r\nlet result = ''\r\n\r\nexport default class Field extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {userID: '', dateRegistration: '', dateLastActivity: ''};\r\n\r\n        this.onChangeID = this.onChangeID.bind(this);\r\n        this.onChangeReg = this.onChangeReg.bind(this);\r\n        this.onChangeLast = this.onChangeLast.bind(this);\r\n    }\r\n\r\n    onChangeID = (e) => this.setState({userID: Math.round(e.target.value, 0)});\r\n    onChangeReg = (e) => this.setState({dateRegistration: e.target.value})\r\n    onChangeLast = (e) => this.setState({dateLastActivity: e.target.value})\r\n\r\n    async componentDidMount() {\r\n        const requestOptions = {\r\n            method: 'GET',\r\n            headers: { 'Content-Type': 'application/json' }\r\n        };\r\n\r\n        try {\r\n            const response = await fetch('https://localhost:44303/main/all', requestOptions);\r\n            const data = await response.json();\r\n\r\n            if (response.ok) \r\n            {\r\n                activities = data\r\n                activities.forEach(activity => {\r\n                    parameters.push([\"User \" + activity.userID, activity.daysByActivity])\r\n                });\r\n\r\n                this.setState({userID: '', dateRegistration: '', dateLastActivity: ''})\r\n            }\r\n            else {\r\n                try {\r\n                    alert(JSON.stringify(data.errors))\r\n                }\r\n                catch {\r\n                    alert(data)\r\n                }\r\n            }\r\n        }\r\n        catch (ex) {\r\n            alert(\"Отсутствует соединение с сервером\")\r\n        }\r\n    }\r\n\r\n    onCalc = async () => {\r\n        if (parameters.length < 1) return;\r\n\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(activities)\r\n        };\r\n\r\n        const response = await fetch('https://localhost:44303/main/retention/7', requestOptions);\r\n        const data = await response.json(); \r\n\r\n        result = \"Rolling Retention 7 day: \" + data.result\r\n\r\n        this.setState({userID: ''})\r\n        \r\n        document.getElementById(\"graph\").className = \"graph\"\r\n    }\r\n\r\n    onSave = async () => {\r\n        if (parseInt(this.state.userID) < 0 || this.state.userID.length < 1) {\r\n            alert(\"Некорректный идентификатор\")\r\n            return;\r\n        }\r\n\r\n        if (this.state.dateRegistration.length < 1 || this.state.dateLastActivity.length < 1) {\r\n            alert(\"Некорректная дата\")\r\n            return;\r\n        }\r\n          \r\n        var same = activities.filter(activity => activity.userID === this.state.userID)\r\n\r\n        if (same > 0) {\r\n            alert(\"Некорректная дата\")\r\n            return;\r\n        }\r\n\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body:  JSON.stringify(this.state)\r\n        };\r\n\r\n        try {\r\n\r\n            const response = await fetch('https://localhost:44303/main/saveone', requestOptions)\r\n            const data = await response.json(); \r\n            \r\n            if (response.ok) \r\n            {\r\n                activities.push(data);\r\n                parameters.push([data.userID, data.daysByActivity])\r\n            }\r\n            else\r\n                alert(JSON.stringify(data.errors))\r\n\r\n        } \r\n        catch (ex) {\r\n            alert(\"Отсутствует соединение с сервером\")\r\n        }\r\n\r\n        this.setState({userID: '', dateRegistration: '', dateLastActivity: ''})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"field\">\r\n\r\n                <div className=\"in\">\r\n                    <h1 className=\"field-title\">Activities</h1>\r\n\r\n                    <div className=\"input-place\">\r\n                        <input className=\"input-id\" type=\"number\" value={this.state.userID} onChange={this.onChangeID} placeholder = \"UserID\" />\r\n                        <input className=\"input-reg\" type=\"date\" value={this.state.dateRegistration} onChange={this.onChangeReg} />\r\n                        <input className=\"input-reg\" type=\"date\" value={this.state.dateLastActivity} onChange={this.onChangeLast} />\r\n                        <button type=\"submit\" className=\"input-btn\" onClick={this.onSave}>Save</button>\r\n                    </div>\r\n\r\n                    <Table data={activities} />\r\n                    \r\n                    <div className=\"calculate-place\">\r\n                        <h3 className=\"retention\">{result}</h3>\r\n                        <button type=\"submit\" className=\"calculate\" onClick={this.onCalc}>Calculate</button>\r\n                    </div>\r\n                    \r\n                    <div id=\"graph\" className=\"graph-none\">\r\n                        <Graph data={parameters} />\r\n                    </div>\r\n\r\n                </div>  \r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react'\nimport './App.css';\nimport Overlay from './Components/Overlay.js'\nimport Menu from './Components/Menu.js'\nimport Field from './Components/Field.js'\n\nfunction App() {\n  return (\n    <div>\n\n        <Overlay />\n\n        <Menu />\n\n        <Field />\n\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n  \n   <App />\n\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}